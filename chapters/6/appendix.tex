\section{Project Listings for Automated SonarQube Analysis} \label{app:a}
\begin{table}[htbp]
	\begin{tabular}{p{5cm}|p{7cm}}
		\hline
		\cellcolor{Gray}Project Name	                                                  & \cellcolor{Gray}GitHub Link  \\ \hline
        KanbanBoardApp & \url{https://github.com/Sardor6628/Kanban-Board-Java} \\
        CountdownTimer2 & \url{https://github.com/sagarsiddhpura/CountdownTimer} \\
        Easy-Attendance-App & \url{https://github.com/jaikeerthick/Easy-Attendance-App} \\
        StopWatchRemade & \url{https://github.com/0developers/StopWatchRemade} \\
        Post-it-Notes-App & \url{https://github.com/harshkv/Post-it-Notes-App} \\
        VideoPlayer & \url{https://github.com/waleedtalha/VideoPlayer} \\
        CurrencyConverter & \url{https://github.com/Ch-Tima/CurrencyConverter/tree/master} \\
        passwordgenerator & \url{https://github.com/SecUSo/privacy-friendly-passwordgenerator} \\
        finance-manager & \url{https://github.com/SecUSo/privacy-friendly-finance-manager} \\
        todo-list & \url{https://github.com/SecUSo/privacy-friendly-todo-list} \\
        pain-diary & \url{https://github.com/SecUSo/privacy-friendly-pain-diary} \\
        qr-scanner & \url{https://github.com/SecUSo/privacy-friendly-qr-scanner} \\
        tape-measure & \url{https://github.com/SecUSo/privacy-friendly-tape-measure} \\
        pedometer & \url{https://github.com/SecUSo/privacy-friendly-pedometer} \\
        weather & \url{https://github.com/SecUSo/privacy-friendly-weather} \\
       
    \end{tabular}
	\caption{ Java Open Source Projects Selected for Analysis \label{tab:java_projects}}
\end{table}

\begin{table}[htbp]
	\begin{tabular}{p{5cm}|p{7cm}}
		\hline
		\cellcolor{Gray}Project Name	                                                  & \cellcolor{Gray}GitHub Link  \\ \hline
        KanbanBoa & \url{https://github.com/Sardor6628/Kanban-Board-Kotlin} \\
        vocable-android & \url{https://github.com/willowtreeapps/vocable-android?tab=readme-ov-file} \\
        plees-tracker & \url{https://github.com/vmiklos/plees-tracker} \\
        NotyKT & \url{https://github.com/PatilShreyas/NotyKT} \\
        muzei & \url{https://github.com/muzei/muzei} \\
        pdf-viewer-pro & \url{https://github.com/Sav22999/sav-pdf-viewer-pro} \\
        vocable & \url{https://github.com/PhilT95/ger-es_trainer} \\
        MyNotes & \url{https://github.com/akshatbhuhagal/MyNotes} \\
        RecurringExpenseTracker & \url{https://github.com/DennisBauer/RecurringExpenseTracker?tab=readme-ov-file} \\
        Simple-Dialer & \url{https://github.com/SimpleMobileTools/Simple-Dialer} \\
        PhoneBook & \url{https://github.com/KishanViramgama/PhoneBook_CRUD} \\
        SoundMeter1 & \url{https://github.com/albertopasqualetto/SoundMeterESP} \\
        Simple-Draw & \url{https://github.com/SimpleMobileTools/Simple-Draw} \\
        unitconverter & \url{https://github.com/dbrant/unitconverter-android/tree/master} \\
        Simple-Voice-Recorder & \url{https://github.com/SimpleMobileTools/Simple-Voice-Recorder/tree/master} \\
    \end{tabular}
	\caption{ Kotlin Open Source Projects Selected for Analysis \label{tab:kotlin_projects}}
\end{table}


\begin{table}[htbp]
	\begin{tabular}{p{5cm}|p{7cm}}
		\hline
		\cellcolor{Gray}Project Name	                                                  & \cellcolor{Gray}GitHub Link  \\ \hline
        KanbanBoardApp & \url{https://github.com/Sardor6628/kanban_board_crm} \\
        day-night-time-picker & \url{https://github.com/subhamayd2/day_night_time_picker.git} \\
        android-tv-app & \url{https://github.com/mawaqit/android-tv-app.git} \\
        ConsumerFlutterApp & \url{https://github.com/LaCoro/ConsumerFlutterApp.git} \\
        flutter-chat-craft & \url{https://github.com/taxze6/flutter-chat-craft.git} \\
        Flutter-TDD-Clean-Architecture-E-Commerce-App & \url{https://github.com/Sameera-Perera/Flutter-TDD-Clean-Architecture-E-Commerce-App.git} \\
        flutter-samples & \url{https://github.com/yuto-yuto/flutter_samples.git} \\
        flutter-unit & \url{https://github.com/toly1994328/FlutterUnit} \\
        flutter-quill & \url{https://github.com/singerdmx/flutter-quill.git} \\
        Musify & \url{https://github.com/gokadzev/Musify.git} \\
        Personal-Finance-Manager & \url{https://github.com/sajitha00/Personal-Finance-Manager.git} \\
        mobile & \url{https://github.com/realm/realm-dart} \\
        spotube & \url{https://github.com/KRTirtho/spotube.git} \\
        anonaddy & \url{https://github.com/KhalidWar/anonaddy} \\
        pstube & \url{https://github.com/prateekmedia/pstube.git} \\
    
    \end{tabular}
	\caption{ Dart Open Source Projects Selected for Analysis \label{tab:dart_projects}}
\end{table}

\section{Python Script for Project Automation and Configuration} \label{app:a2}

%-------------------------
\begin{lstlisting}[
	caption				= Python Scripts for Project Automation and Configuration,	% 여기에는 '_'쓸 거면 '\_'로
	label				= muapp,          % 여기에는 '_'쓸 거면  '_'로
	xleftmargin			= 4pt,
	framexleftmargin	= 4pt,
	tabsize				= 4,
	breaklines			= true,
	breakautoindent		= true,
	postbreak			= \space,
%	backgroundcolor		= \color{listingcolor}, 
	frame		= tb,
	numbers		= left,		% 이 밑으론 줄 번호 설정
	stepnumber	= 1,
	numbersep	= 1pt,
	numberstyle	= \tiny,
	escapeinside = ~~
	]	
    import subprocess
    import os
    import requests
    import base64
    def encode_credentials(username, password):
        credentials = f"{username}:{password}"
        encoded_credentials = base64.b64encode(credentials.encode()).decode()
        return encoded_credentials
    
    
    def create_sonar_project(project_key, project_name, encoded_credentials):
        url = f'http://localhost:9000/api/projects/create?project={project_key}&name={project_name}'
        headers = {
            'Authorization': f'Basic {encoded_credentials}',
            'Content-Type': 'application/x-www-form-urlencoded'
        }
        response = requests.post(url, headers=headers)
        return response
    
    
    def generate_sonar_token(project_key, token_name, encoded_credentials):
        url = f'http://localhost:9000/api/user_tokens/generate?name={token_name}&projectKey={project_key}&type=PROJECT_ANALYSIS_TOKEN'
        headers = {
            'Authorization': f'Basic {encoded_credentials}',
            'Content-Type': 'application/x-www-form-urlencoded'
        }
        response = requests.post(url, headers=headers)
        return response
    
    
    def clone_and_setup_sonar(repo_urls, save_directory, username, password):
        encoded_credentials = encode_credentials(username, password)
        os.makedirs(save_directory, exist_ok=True)
    
        for url in repo_urls:
            repo_name = url.split('/')[-1].replace('.git', '')
            clone_path = os.path.join(save_directory, repo_name)
            config_file_path = os.path.join(clone_path, 'sonarqube_configuration.txt')
            config_file_properties = os.path.join(clone_path, 'sonar-project.properties')
    
    
            # Skip cloning if repo is already cloned and configuration file exists
            if os.path.exists(clone_path) and os.path.exists(config_file_path):
                print(f'Repository "{repo_name}" already cloned and configured. Skipping...')
                continue
    
            # Clone repo if it doesn't exist
            if not os.path.exists(clone_path):
                result = subprocess.run(['git', 'clone', url, clone_path], stdout=subprocess.PIPE, stderr=subprocess.PIPE,
                                        universal_newlines=True)
                if result.returncode != 0:
                    print(f'Failed to clone {repo_name}. Error: {result.stderr}')
                    continue
    
            # Proceed with SonarQube project creation and token generation
            print(f'Cloned {repo_name}')
            project_response = create_sonar_project(repo_name, repo_name, encoded_credentials)
            if project_response.status_code == 200:
                print(f'SonarQube project created for {repo_name}')
                token_response = generate_sonar_token(repo_name, f"{repo_name}_token", encoded_credentials)
                if token_response.status_code == 200 and 'token' in token_response.json():
                    token = token_response.json()['token']
                    with open(config_file_properties, 'w') as properties_file:
                        properties_file.write(f"""
                        #Project identification
                        sonar.projectKey={repo_name}
                        sonar.projectName={repo_name}
                        sonar.projectVersion=1.0
                        
                        # Source code location.
                        # Path is relative to the sonar-project.properties file. Defaults to .
                        # Use commas to specify more than one file/folder.
                        # It is good practice to add pubspec.yaml to the sources as the analyzer
                        # may produce warnings for this file as well.
                        sonar.sources=lib,pubspec.yaml
                        sonar.tests=test
                        
                        # Encoding of the source code. Default is default system encoding.
                        sonar.sourceEncoding=UTF-8
                        """)
                    with open(config_file_path, 'w') as token_file:
                        token_file.write(f"""\n# 
                        #Project identification
                        sonar.projectKey={repo_name}
                        sonar.projectName={repo_name}
                        sonar.projectVersion=1.0
                        
                        # Source code location.
                        # Path is relative to the sonar-project.properties file. Defaults to .
                        # Use commas to specify more than one file/folder.
                        # It is good practice to add pubspec.yaml to the sources as the analyzer
                        # may produce warnings for this file as well.
                        sonar.sources=lib,pubspec.yaml
                        #sonar.tests=test
                        
                        # Encoding of the source code. Default is default system encoding.
                        sonar.sourceEncoding=UTF-8
                        
                        
                        run following:
                        
                    sonar-scanner \
      -Dsonar.projectKey={repo_name} \
      -Dsonar.sources=. \
      -Dsonar.host.url=http://localhost:9000 \
      -Dsonar.login={token}
                        
                                                 """)
    
                    print(f'SonarQube configuration saved to {config_file_path}')
                else:
                    print(f'Failed to generate SonarQube token for {repo_name}.')
            else:
                print(f'Failed to create SonarQube project for {repo_name}.')
    
        print('Finished processing repositories and setting up SonarQube projects.')
    
    
    if __name__ == '__main__':
        repo_urls = [
            #Flutter projects=
            "https://github.com/shiosyakeyakini-info/miria.git",
            "https://github.com/hoc081098/hoc081098.git",
            "https://github.com/singerdmx/flutter-quill.git"
            "https://github.com/deckerst/aves.git",
            "https://github.com/clragon/e1547.git",
            "https://github.com/PalisadoesFoundation/talawa.git",
            "https://github.com/LaCoro/ConsumerFlutterApp.git",
            "https://github.com/nank1ro/flutter-shadcn-ui",
            "https://github.com/realm/realm-dart",
            "https://github.com/KhalidWar/anonaddy",
            "https://github.com/prateekmedia/pstube.git"
        ]
        save_directory = 'flutter_repositories'
        username = 'admin'  # SonarQube username
        password = 'superadmin'  # SonarQube password
        clone_and_setup_sonar(repo_urls, save_directory, username, password)
    
\end{lstlisting}
\section{Python Script for Data Retrieval and Report Generation} \label{app:a3}

%-------------------------
\begin{lstlisting}[
	caption				= Python Script for Data Retrieval and Report Generation
	label				= muapp,          % 여기에는 '_'쓸 거면  '_'로
	xleftmargin			= 4pt,
	framexleftmargin	= 4pt,
	tabsize				= 4,
	breaklines			= true,
	breakautoindent		= true,
	postbreak			= \space,
%	backgroundcolor		= \color{listingcolor}, 
	frame		= tb,
	numbers		= left,		% 이 밑으론 줄 번호 설정
	stepnumber	= 1,
	numbersep	= 1pt,
	numberstyle	= \tiny,
	escapeinside = ~~
	]	

    import requests
import pandas as pd

pd.set_option('display.max_rows', None)  # or replace None with the exact number of rows you want
pd.set_option('display.max_columns', None)  # or replace None with the exact number of columns you want
pd.set_option('display.width', 1000)  # Adjust this number based on your display width
pd.set_option('display.max_colwidth', None)

def fetch_project_metrics_and_issues_summary(base_url, projects, types="CODE_SMELL", ps=500):
    project_summaries = []  # List to store summary data for all projects

    for project in projects:
        # Fetch issues summary
        issues_params = {
            "componentKeys": project,
            "types": types,
            "ps": ps
        }

        issues_response = requests.get(f"{base_url}/api/issues/search", params=issues_params)

        # Fetch project metrics
        metrics_params = {
            "component": project,
            "metricKeys": "ncloc,complexity,violations"
        }

        metrics_response = requests.get(f"{base_url}/api/measures/component", params=metrics_params)

        if issues_response.status_code == 200 and metrics_response.status_code == 200:
            issues_data = issues_response.json()
            metrics_data = metrics_response.json()

            # Parse issues data
            issues = issues_data.get("issues", [])
            severity_counts = {
                "BLOCKER": 0,
                "CRITICAL": 0,
                "MAJOR": 0,
                "MINOR": 0,
                "INFO": 0
            }
            for issue in issues:
                if issue["severity"] in severity_counts:
                    severity_counts[issue["severity"]] += 1

            # Parse metrics data for ncloc (Lines of Code)
            measures = metrics_data["component"]["measures"]
            loc = next((measure["value"] for measure in measures if measure["metric"] == "ncloc"), "0")

            # Prepare the summary for the current project
            project_summary = {
                "NAME": project,
                "BLOCKER": severity_counts["BLOCKER"],
                "CRITICAL": severity_counts["CRITICAL"],
                "MAJOR": severity_counts["MAJOR"],
                "MINOR": severity_counts["MINOR"],
                "INFO": severity_counts["INFO"],
                "total": len(issues),
                "LOC": loc  # Add LOC to the project summary
            }

            project_summaries.append(project_summary)
        else:
            print(
                f"Failed to fetch data for project {project}, issues status code: {issues_response.status_code}, metrics status code: {metrics_response.status_code}")

    return pd.DataFrame(project_summaries)


# Example usage
base_url = "http://localhost:9000"
projects = ["Kanban_board_flutter","day_night_time_picker", "android-tv-app", "ConsumerFlutterApp", "flutter-chat-craft",
            "Flutter-TDD-Clean-Architecture-E-Commerce-App", "flutter_samples", "Kanban_board_flutter", "flutter-quill",
            "Musify", "openfoodfacts-dart", "Personal-Finance-Manager",
            "mobile", "spotube", "anonaddy", "pstube"]
project_metrics_and_issues_summary_df = fetch_project_metrics_and_issues_summary(base_url, projects)
# Display the table
print(project_metrics_and_issues_summary_df)

# Save the DataFrame to a CSV file
report_path = "flutter-report.csv"
project_metrics_and_issues_summary_df.to_csv(report_path, index=False)
print(f"Flutter Report saved to {report_path}")

projects = ["Kanban_board_java", 'CountdownTimer2', '2048-android2', 'Easy-Attendance-App', 'StopWatchRemade',
            'Post-it-Notes-App', 'VideoPlayer', 'CurrencyConverter', 'passwordgenerator', 'finance-manager',
            'todo-list', 'pain-diary', 'qr-scanner', 'tape-measure', 'pedometer', 'weather']

project_metrics_and_issues_summary_df = fetch_project_metrics_and_issues_summary(base_url, projects)
# Display the table
print(project_metrics_and_issues_summary_df)

# Save the DataFrame to a CSV file
report_path = "java-report.csv"
project_metrics_and_issues_summary_df.to_csv(report_path, index=False)
print(f"Java Report saved to {report_path}")

projects = ["Kanban_board_kotlin", "vocable-android", "plees-tracker", "NotyKT",
            "muzei", "awaker", "GitExplorer-Android",
            'pdf-viewer-pro', 'vocable', 'MyNotes',
            'RecurringExpenseTracker',
            'Simple-Dialer', 'PhoneBook',
            'SoundMeter1', 'Simple-Draw', 'unitconverter', 'Simple-Voice-Recorder']

project_metrics_and_issues_summary_df = fetch_project_metrics_and_issues_summary(base_url, projects)
# Display the table
print(project_metrics_and_issues_summary_df)

# Save the DataFrame to a CSV file
report_path = "kotlin-report.csv"
project_metrics_and_issues_summary_df.to_csv(report_path, index=False)
print(f"Kotlin Report saved to {report_path}")

\end{lstlisting}

\clearpage
